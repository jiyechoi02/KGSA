{"ast":null,"code":"var _jsxFileName = \"/Users/jiyechoi/Desktop/KGSA_web/kgsa/frontend/src/components/AccountForm.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useReducer } from 'react';\nimport { useHistory } from 'react-router';\nimport { Row, Col, Form, Alert } from 'react-bootstrap';\nimport { BsTag, BsPencil } from 'react-icons/bs';\nimport { BiUser } from 'react-icons/bi';\nimport { RiLockPasswordLine } from 'react-icons/ri';\nimport { AiOutlineMail } from 'react-icons/ai';\nimport { GiSmartphone } from 'react-icons/gi';\nimport { FcCheckmark, FcCancel } from 'react-icons/fc';\nimport { StyledButton as Button } from './Styles';\nimport MyModal from './MyModal';\nimport { url } from '../services/config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case \"pw_length\":\n      return { ...state,\n        pw_length: action.value\n      };\n\n    case \"pw_lower\":\n      return { ...state,\n        pw_lower: action.value\n      };\n\n    case \"pw_upper\":\n      return { ...state,\n        pw_upper: action.value\n      };\n\n    case \"pw_special\":\n      return { ...state,\n        pw_special: action.value\n      };\n\n    case \"pw_match\":\n      return { ...state,\n        pw_match: action.value\n      };\n\n    case \"valid_username\":\n      return { ...state,\n        valid_username: action.value\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst AccountForm = ({\n  form_disable,\n  DBuser,\n  fetchData\n}) => {\n  _s();\n\n  const [{\n    pw_length,\n    pw_lower,\n    pw_upper,\n    pw_special,\n    pw_match,\n    valid_username\n  }, dispatch] = useReducer(reducer, {\n    pw_length: false,\n    // at least 8 characters\n    pw_lower: false,\n    pw_upper: false,\n    pw_special: false,\n    pw_match: false,\n    valid_username: form_disable ? true : false\n  });\n  const [user, setUser] = useState(DBuser);\n  const history = useHistory();\n  const [success, setSuccess] = useState(false);\n  const [failed, setFailed] = useState(\"\");\n  const [inputKey, setInputKey] = useState(\"form\");\n  const [showAlert, setShowAlert] = useState(false);\n  const [showChangePw, setShowChangePw] = useState(false);\n\n  const handleChange = e => {\n    var value = e.target.value;\n    if (e.target.name == 'firstname' || e.target.name == 'lastname') value = value.toUpperCase();\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleUsernameChange = e => {\n    if (valid_username) {\n      dispatch({\n        type: \"valid_username\",\n        value: false\n      });\n    }\n\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handlePasswordChange = e => {\n    if (pw_match) {\n      dispatch({\n        type: \"pw_match\",\n        value: false\n      });\n    }\n\n    var value = e.target.value;\n    checkPasswordValidity(value);\n    setUser({ ...user,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault(); // console.log(user)\n\n    if (pw_length && pw_lower && pw_upper && pw_special && pw_match && valid_username) {\n      fetchData(user);\n    } else {\n      setShowAlert(true);\n    }\n  };\n\n  const checkPasswordValidity = value => {\n    // var minimum = /?=.{8,}/;\n    var uppercase = /(?=.*[A-Z])/;\n    var lowercase = /(?=.*[a-z])/;\n    var special_char = /(?=.*[!@#$%^&*])/;\n    if (value.length >= 8) dispatch({\n      type: \"pw_length\",\n      value: true\n    });else dispatch({\n      type: \"pw_length\",\n      value: false\n    });\n    if (lowercase.test(value)) dispatch({\n      type: \"pw_lower\",\n      value: true\n    });else dispatch({\n      type: \"pw_lower\",\n      value: false\n    });\n    if (uppercase.test(value)) dispatch({\n      type: \"pw_upper\",\n      value: true\n    });else dispatch({\n      type: \"pw_upper\",\n      value: false\n    });\n    if (special_char.test(value)) dispatch({\n      type: \"pw_special\",\n      value: true\n    });else dispatch({\n      type: \"pw_special\",\n      value: false\n    });\n  };\n\n  const comparePasswords = e => {\n    var pw = user.password;\n    var val = e.target.value;\n    dispatch({\n      type: \"pw_match\",\n      value: !pw.localeCompare(e.target.value)\n    });\n  };\n\n  const verifyUsername = async e => {\n    e.preventDefault();\n    var requestOptions = {\n      method: 'GET',\n      redirect: 'follow'\n    };\n    fetch(`${url}signup/${user.username}`, requestOptions).then(res => res.json()).then(res => {\n      if (res.data.length > 0) {\n        dispatch({\n          type: \"valid_username\",\n          value: false\n        });\n      } else {\n        dispatch({\n          type: \"valid_username\",\n          value: true\n        });\n      }\n    });\n  }; // const resetForm = ()=>{\n  //     var date = Date.now().toString()\n  //     setInputKey(date);\n  //     setSuccess(false);\n  //     setFailed(false);\n  // }\n\n\n  return /*#__PURE__*/_jsxDEV(Form, {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"account-form-group\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 2,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(BsTag, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            style: signupFormControl,\n            type: \"text\",\n            name: \"firstname\",\n            placeholder: user.firstname ? user.firstname : \"First name*\",\n            onChange: handleChange,\n            defaultValue: user.firstname,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            style: signupFormControl,\n            type: \"text\",\n            name: \"lastname\",\n            placeholder: user.lastname ? user.lastname : \"Last name*\",\n            onChange: handleChange,\n            defaultValue: user.lastname,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"account-form-group\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 2,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(BiUser, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            disabled: form_disable,\n            style: signupFormControl,\n            type: \"text\",\n            name: \"username\",\n            placeholder: user.username ? user.username : \"Username*\",\n            onChange: handleUsernameChange,\n            defaultValue: user.username,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 25\n        }, this), !form_disable ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 3,\n            style: colStyle,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              onClick: verifyUsername,\n              margin: \"0px\",\n              children: \"Verify\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 2,\n            style: colStyle,\n            children: valid_username ? /*#__PURE__*/_jsxDEV(FcCheckmark, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 54\n            }, this) : /*#__PURE__*/_jsxDEV(FcCancel, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 71\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(Col, {\n          sm: 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 34\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"account-form-group\",\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 2,\n            style: colStyle,\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(RiLockPasswordLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            style: colStyle,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: signupFormControl,\n              type: \"password\",\n              name: \"password\",\n              placeholder: \"Password*\",\n              onChange: handlePasswordChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 209,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"account-form-group\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: [/*#__PURE__*/_jsxDEV(Col, {\n            sm: 2,\n            style: colStyle,\n            children: /*#__PURE__*/_jsxDEV(Form.Label, {\n              children: /*#__PURE__*/_jsxDEV(RiLockPasswordLine, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 49\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Col, {\n            sm: 10,\n            style: colStyle,\n            children: /*#__PURE__*/_jsxDEV(Form.Control, {\n              style: signupFormControl,\n              type: \"password\",\n              name: \"passwordconfirm\",\n              placeholder: \"Confirm Password*\",\n              onChange: comparePasswords,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          className: \"justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            sm: 12,\n            style: colStyle,\n            children: /*#__PURE__*/_jsxDEV(Alert, {\n              variant: pw_length && pw_lower && pw_upper && pw_special && pw_match ? \"success\" : \"danger\",\n              className: \"account-password-alert\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"account-password-condition\",\n                children: [pw_length ? /*#__PURE__*/_jsxDEV(FcCheckmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 95\n                }, this) : /*#__PURE__*/_jsxDEV(FcCancel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 111\n                }, this), \" Minimum 8 character\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"account-password-condition\",\n                children: [pw_upper ? /*#__PURE__*/_jsxDEV(FcCheckmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 94\n                }, this) : /*#__PURE__*/_jsxDEV(FcCancel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 110\n                }, this), \" A uppercase letter\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"account-password-condition\",\n                children: [pw_lower ? /*#__PURE__*/_jsxDEV(FcCheckmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 94\n                }, this) : /*#__PURE__*/_jsxDEV(FcCancel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 239,\n                  columnNumber: 110\n                }, this), \" A lowercase letter\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"account-password-condition\",\n                children: [pw_special ? /*#__PURE__*/_jsxDEV(FcCheckmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 96\n                }, this) : /*#__PURE__*/_jsxDEV(FcCancel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 112\n                }, this), \" A special character\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"account-password-condition\",\n                children: [pw_match ? /*#__PURE__*/_jsxDEV(FcCheckmark, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 94\n                }, this) : /*#__PURE__*/_jsxDEV(FcCancel, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 110\n                }, this), \"Passwords match \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"account-form-group\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 2,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(AiOutlineMail, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 10,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            style: signupFormControl,\n            type: \"email\",\n            name: \"email\",\n            placeholder: user.email ? user.email : \"Email*\",\n            onChange: handleChange,\n            defaultValue: user.email,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"account-form-group\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 2,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(GiSmartphone, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 10,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            style: signupFormControl,\n            type: \"type\",\n            name: \"phone_number\",\n            placeholder: user.phone_number ? user.phone_number : \"Phone Number*\",\n            onChange: handleChange,\n            defaultValue: user.phone_number,\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n      className: \"account-form-group\",\n      children: /*#__PURE__*/_jsxDEV(Row, {\n        className: \"justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          sm: 2,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Label, {\n            children: /*#__PURE__*/_jsxDEV(BsPencil, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 41\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          sm: 10,\n          style: colStyle,\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            style: signupFormControl,\n            type: \"text\",\n            name: \"major\",\n            placeholder: user.major ? user.major : \"Major\",\n            defaultValue: user.major,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        style: colStyle,\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          float: \"right\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 21\n        }, this), !form_disable ? /*#__PURE__*/_jsxDEV(Button, {\n          float: \"right\",\n          onClick: () => {\n            history.push('/login');\n          },\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 37\n        }, this) : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(MyModal, {\n      show: showAlert,\n      variant: \"danger\",\n      handleOnClick: () => {\n        setShowAlert(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please satisfy the requirement before submission..\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 102\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }, this)]\n  }, inputKey, true, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 13\n  }, this);\n};\n\n_s(AccountForm, \"Cte1FyrOGyqacuU5LclsU7sLOOQ=\", false, function () {\n  return [useHistory];\n});\n\n_c = AccountForm;\nconst signupFormControl = {\n  borderRadius: \"10px\"\n};\nconst colStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  marginBottom: '5px'\n};\nexport default AccountForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"AccountForm\");","map":{"version":3,"sources":["/Users/jiyechoi/Desktop/KGSA_web/kgsa/frontend/src/components/AccountForm.js"],"names":["useState","useReducer","useHistory","Row","Col","Form","Alert","BsTag","BsPencil","BiUser","RiLockPasswordLine","AiOutlineMail","GiSmartphone","FcCheckmark","FcCancel","StyledButton","Button","MyModal","url","reducer","state","action","type","pw_length","value","pw_lower","pw_upper","pw_special","pw_match","valid_username","AccountForm","form_disable","DBuser","fetchData","dispatch","user","setUser","history","success","setSuccess","failed","setFailed","inputKey","setInputKey","showAlert","setShowAlert","showChangePw","setShowChangePw","handleChange","e","target","name","toUpperCase","handleUsernameChange","handlePasswordChange","checkPasswordValidity","handleSubmit","preventDefault","uppercase","lowercase","special_char","length","test","comparePasswords","pw","password","val","localeCompare","verifyUsername","requestOptions","method","redirect","fetch","username","then","res","json","data","colStyle","signupFormControl","firstname","lastname","email","phone_number","major","push","borderRadius","display","justifyContent","marginBottom"],"mappings":"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","sourcesContent":["import {useState, useReducer} from 'react';\nimport { useHistory } from 'react-router';\nimport {Row,Col, Form, Alert} from 'react-bootstrap';\nimport {BsTag, BsPencil} from 'react-icons/bs';\nimport {BiUser} from 'react-icons/bi';\nimport {RiLockPasswordLine} from 'react-icons/ri';\nimport {AiOutlineMail} from 'react-icons/ai';\nimport {GiSmartphone} from 'react-icons/gi';\nimport {FcCheckmark,FcCancel} from 'react-icons/fc';\nimport {StyledButton as Button} from './Styles';\nimport MyModal from './MyModal';\nimport {url} from '../services/config';\n\nconst reducer = (state,action) =>{\n    switch(action.type){\n        case \"pw_length\" :\n            return { ...state, pw_length : action.value };\n        case \"pw_lower\" : \n            return { ...state, pw_lower : action.value};\n        case \"pw_upper\" : \n            return { ...state, pw_upper : action.value};\n        case \"pw_special\" :\n            return { ...state, pw_special : action.value};\n        case \"pw_match\" :\n            return { ...state, pw_match : action.value};      \n        case \"valid_username\" :\n            return { ...state, valid_username : action.value};             \n        default :\n            return state;\n    }\n}\n\nconst AccountForm = ({form_disable,DBuser,fetchData})=>{\n    const [{ pw_length, pw_lower, pw_upper, pw_special, pw_match, valid_username}, dispatch ] = useReducer(reducer, {\n        pw_length : false, // at least 8 characters\n        pw_lower : false,\n        pw_upper : false,\n        pw_special : false,\n        pw_match : false,\n        valid_username : form_disable? true: false,\n    })\n\n    const [user, setUser] = useState(DBuser);\n    const history = useHistory();\n    const [ success, setSuccess ]= useState(false);\n    const [ failed, setFailed ] = useState(\"\");\n    const [ inputKey, setInputKey] = useState(\"form\");\n    const [ showAlert, setShowAlert] = useState(false);\n    const [ showChangePw, setShowChangePw] = useState(false);\n\n    const handleChange = (e)=>{\n        var value = e.target.value; \n        if(e.target.name == 'firstname' || e.target.name == 'lastname') \n            value = value.toUpperCase();\n   \n        setUser({\n            ...user, [e.target.name] : e.target.value\n        });\n    }\n\n    const handleUsernameChange = (e)=>{\n        if (valid_username) {\n            dispatch({type:\"valid_username\", value: false})\n        }\n\n        setUser({\n            ...user, [e.target.name] : e.target.value\n        });\n    }\n\n    const handlePasswordChange = (e)=>{\n        if(pw_match){\n            dispatch({type:\"pw_match\", value: false})\n        }\n        var value = e.target.value;\n        checkPasswordValidity(value)\n        setUser({\n            ...user, [e.target.name] : e.target.value\n        }); \n\n    }\n    const handleSubmit = async (e)=>{\n        e.preventDefault();\n        // console.log(user)\n        if(pw_length && pw_lower && pw_upper && pw_special && pw_match && valid_username){\n            fetchData(user);\n        }else{\n            setShowAlert(true);\n        }\n\n    }\n\n    const checkPasswordValidity = (value)=>{\n        // var minimum = /?=.{8,}/;\n    \n        var uppercase = /(?=.*[A-Z])/;\n        var lowercase = /(?=.*[a-z])/;\n        var special_char = /(?=.*[!@#$%^&*])/;\n\n        if(value.length >= 8) dispatch({type: \"pw_length\", value : true });\n        else dispatch({type: \"pw_length\", value : false });\n\n        if(lowercase.test(value)) dispatch({type:\"pw_lower\", value : true });\n        else dispatch({type: \"pw_lower\", value : false });\n\n        if(uppercase.test(value)) dispatch({type:\"pw_upper\", value : true });\n        else dispatch({type: \"pw_upper\", value : false });\n\n        if(special_char.test(value)) dispatch({type: \"pw_special\", value : true });\n        else dispatch({type: \"pw_special\", value : false });\n    }\n\n    const comparePasswords = (e) =>{\n        var pw = user.password;\n        var val = e.target.value;\n        dispatch({type: \"pw_match\", value : !pw.localeCompare(e.target.value)});\n    }\n    \n    const verifyUsername = async (e)=>{\n        e.preventDefault();\n        var requestOptions = {\n            method: 'GET',\n            redirect: 'follow'\n          };\n        \n        fetch(`${url}signup/${user.username}`,requestOptions)\n        .then(res=>res.json())\n        .then(res =>{\n            if(res.data.length>0){\n                dispatch({type: \"valid_username\", value : false });\n            }else{\n                dispatch({type: \"valid_username\", value : true });\n            }\n        })\n        \n    }\n\n    // const resetForm = ()=>{\n    //     var date = Date.now().toString()\n    //     setInputKey(date);\n    //     setSuccess(false);\n    //     setFailed(false);\n    // }\n\n    \n    return (\n            <Form onSubmit={handleSubmit} key={inputKey}>\n                <Form.Group className=\"account-form-group\">\n                    <Row className=\"justify-content-center\">\n                        <Col sm={2} style={colStyle}>\n                            <Form.Label><BsTag/></Form.Label>\n                        </Col>\n                        <Col sm={5} style={colStyle}>\n                            <Form.Control \n                                style={signupFormControl} \n                                type=\"text\" \n                                name=\"firstname\" \n                                placeholder={user.firstname? user.firstname :\"First name*\"}\n                                onChange={handleChange} \n                                defaultValue={user.firstname}\n                                required/>\n                        </Col>\n                        <Col sm={5} style={colStyle}>\n                            <Form.Control \n                                style={signupFormControl} \n                                type=\"text\" \n                                name=\"lastname\" \n                                placeholder={user.lastname? user.lastname : \"Last name*\"}\n                                onChange={handleChange} \n                                defaultValue={user.lastname}\n                                required/>\n                        </Col>\n                    </Row>\n                </Form.Group>\n                <Form.Group className=\"account-form-group\">\n                    <Row className=\"justify-content-center\">\n                        <Col sm={2} style={colStyle}>\n                            <Form.Label><BiUser/></Form.Label>\n                        </Col>\n                        <Col sm={5} style={colStyle}>\n                            <Form.Control \n                                disabled={form_disable} \n                                style={signupFormControl} \n                                type=\"text\" \n                                name=\"username\" \n                                placeholder={user.username? user.username :\"Username*\"}\n                                onChange={handleUsernameChange} \n                                defaultValue={user.username}\n                                required/>                        \n                        </Col>\n                        {!form_disable?\n                            <>\n                                <Col sm={3} style={colStyle}>\n                                    <Button onClick={verifyUsername} margin=\"0px\">Verify</Button>       \n                                </Col>     \n                                <Col sm={2} style={colStyle}> \n                                    {valid_username? <FcCheckmark/> : <FcCancel/>}             \n                                </Col>\n                            </>: <Col sm={5}></Col>}\n                    </Row>\n                </Form.Group>\n                    <>\n                        <Form.Group className=\"account-form-group\">                                          \n                            <Row className=\"justify-content-center\">\n                                <Col sm={2} style={colStyle}>\n                                    <Form.Label><RiLockPasswordLine/></Form.Label>\n                                </Col>\n                                <Col sm={10} style={colStyle}>\n                                    <Form.Control \n                                        style={signupFormControl} \n                                        type=\"password\" \n                                        name=\"password\" \n                                        placeholder=\"Password*\" \n                                        onChange={handlePasswordChange} \n                                        required/>                            \n                                </Col>\n                            </Row>\n                        </Form.Group>\n                        <Form.Group className=\"account-form-group\">\n                            <Row className=\"justify-content-center\">\n                                <Col sm={2} style={colStyle}>\n                                    <Form.Label><RiLockPasswordLine/></Form.Label>\n                                </Col>                            \n                                <Col sm={10} style={colStyle}>\n                                    <Form.Control \n                                        style={signupFormControl} \n                                        type=\"password\" \n                                        name=\"passwordconfirm\" \n                                        placeholder=\"Confirm Password*\" \n                                        onChange={comparePasswords} \n                                        required/>                            \n                                </Col>\n                            </Row>    \n                            <Row className=\"justify-content-center\">\n                                <Col sm={12} style={colStyle}>\n                                    <Alert variant={pw_length && pw_lower && pw_upper && pw_special && pw_match? \"success\" : \"danger\"} className=\"account-password-alert\">\n                                        <p className=\"account-password-condition\">{pw_length? <FcCheckmark/>: <FcCancel/>} Minimum 8 character</p>\n                                        <p className=\"account-password-condition\">{pw_upper? <FcCheckmark/>: <FcCancel/>} A uppercase letter</p>\n                                        <p className=\"account-password-condition\">{pw_lower? <FcCheckmark/>: <FcCancel/>} A lowercase letter</p>\n                                        <p className=\"account-password-condition\">{pw_special? <FcCheckmark/>: <FcCancel/>} A special character</p>\n                                        <p className=\"account-password-condition\">{pw_match? <FcCheckmark/>: <FcCancel/>}Passwords match </p>\n                                    </Alert>\n                                </Col>\n                            </Row>                     \n                        </Form.Group>\n                    </>\n                <Form.Group className=\"account-form-group\">\n                    <Row className=\"justify-content-center\">\n                        <Col sm={2} style={colStyle}>\n                            <Form.Label><AiOutlineMail/></Form.Label>\n                        </Col>\n                        <Col sm={10} style={colStyle}>\n                            <Form.Control \n                                style={signupFormControl} \n                                type=\"email\" \n                                name=\"email\" \n                                placeholder={user.email? user.email: \"Email*\" }\n                                onChange={handleChange} \n                                defaultValue={user.email}\n                                required/>\n                        </Col>\n                    </Row>\n                </Form.Group>\n                <Form.Group className=\"account-form-group\">\n                    <Row className=\"justify-content-center\">\n                        <Col sm={2} style={colStyle}>\n                            <Form.Label><GiSmartphone/></Form.Label>\n                        </Col>\n                        <Col sm={10} style={colStyle}>\n                            <Form.Control \n                                style={signupFormControl} \n                                type=\"type\" \n                                name=\"phone_number\" \n                                placeholder= {user.phone_number? user.phone_number :\"Phone Number*\" }\n                                onChange={handleChange} \n                                defaultValue={user.phone_number}\n                                required/>\n                        </Col>\n                    </Row>\n                </Form.Group>  \n                <Form.Group className=\"account-form-group\">\n                    <Row className=\"justify-content-center\">\n                        <Col sm={2} style={colStyle}>\n                            <Form.Label><BsPencil/></Form.Label>\n                        </Col>\n                        <Col sm={10} style={colStyle}>\n                            <Form.Control \n                                style={signupFormControl} \n                                type=\"text\" \n                                name=\"major\" \n                                placeholder={user.major? user.major: \"Major\"}\n                                defaultValue={user.major}\n                                onChange={handleChange}/>\n                        </Col>\n                    </Row>\n                </Form.Group>\n                <Row className=\"justify-content-center\">\n                    <Col style={colStyle}>\n                    <Button type=\"submit\" float=\"right\">Submit</Button>\n                    {!form_disable ?<Button float=\"right\" onClick={()=>{history.push('/login')}}>Cancel</Button>  : null}                  \n                    </Col>      \n                </Row>    \n                <MyModal show={showAlert} variant='danger' handleOnClick={()=>{setShowAlert(false)}}><p>Please satisfy the requirement before submission..</p></MyModal>    \n            </Form>\n    )\n}\n\nconst signupFormControl = {\n    borderRadius:\"10px\"\n }\n\n const colStyle ={\n    display : 'flex', \n    justifyContent:'center',\n    marginBottom : '5px'\n }\n \nexport default AccountForm;"]},"metadata":{},"sourceType":"module"}