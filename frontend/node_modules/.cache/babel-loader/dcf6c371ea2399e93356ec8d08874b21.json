{"ast":null,"code":"var _jsxFileName = \"/Users/jiyechoi/Desktop/KGSA_web/kgsa/frontend/src/components/MyTable.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { ListGroup, Col, Row } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport CustomPagination from './CustomPagination';\nimport '../styles.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { getToken, getUser } from '../services/LoginHelper';\nimport { GrView } from 'react-icons/gr';\nimport { BiCommentDetail } from 'react-icons/bi';\nimport { BsCardList } from 'react-icons/bs';\nimport { AiOutlineUser, AiFillNotification } from 'react-icons/ai';\nimport { MdInsertPhoto } from 'react-icons/md';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst StyledListItem = styled(ListGroup.Item)`\n    background : ${prop => prop.pinned ? '#6a101021' : null};\n    padding-left : 40px;\n    &:hover{\n        background: #cecece;\n    }\n`;\n_c = StyledListItem;\nconst colStyle = {\n  fontSize: \"10pt\"\n};\nconst divStyle = {\n  maxWidth: \"100vh\"\n};\nconst listStlye = {\n  borderRadius: \"5px\"\n};\n\nconst MyTable = ({\n  simple,\n  data,\n  url,\n  notices\n}) => {\n  _s();\n\n  /**\n   * Props :\n      * simple : if it is true, no pagination needed\n      * data : posts \n      * notices : pinned posts\n      * url : for API calls to backend\n   */\n  const token = getToken();\n  const user = getUser();\n  const [currentPage, setCurrentPage] = useState(1);\n  const postsPerPage = 8;\n  const [selectedAll, setSelectedAll] = useState(false);\n  const endOfPage = currentPage * postsPerPage;\n  const startOfPage = endOfPage - postsPerPage;\n\n  const currentPosts = data => {\n    if (simple) return data.slice(0, 3);\n    return data.slice(startOfPage, endOfPage);\n  };\n\n  const history = useHistory();\n\n  const handleClick = item => {\n    history.push({\n      pathname: `/${url}/view/${item._id}`,\n      state: {\n        data: item\n      }\n    });\n  }; // const handleSelectAll= (e)=>{\n  //     setSelectedAll(!selectedAll);\n  // }\n\n\n  const parseTime = time => {\n    return time.substr(0, 5);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ListGroup, {\n        children: [!simple && /*#__PURE__*/_jsxDEV(StyledListItem, {\n          variant: \"secondary\",\n          children: /*#__PURE__*/_jsxDEV(BsCardList, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), notices ? notices.map((item, i) => {\n          return /*#__PURE__*/_jsxDEV(StyledListItem, {\n            onClick: () => handleClick(item),\n            pinned: \"true\",\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 7,\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: [/*#__PURE__*/_jsxDEV(AiFillNotification, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 41\n                    }, this), \" \", item.title, \" \", item.keys.length ? /*#__PURE__*/_jsxDEV(MdInsertPhoto, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 95\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 91,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: colStyle,\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"\\uC791\\uC131\\uC2DC\\uAC04:\", item.createdAt.substr(0, 10) + \" \" + parseTime(item.createdAt.substr(11, 12))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 94,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                style: colStyle,\n                sm: 5,\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"justify-content-start\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    xs: 6,\n                    children: [/*#__PURE__*/_jsxDEV(AiOutlineUser, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 99,\n                      columnNumber: 49\n                    }, this), \":\", item.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 3,\n                    children: [/*#__PURE__*/_jsxDEV(BiCommentDetail, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 100,\n                      columnNumber: 49\n                    }, this), \":\", Object.keys(item.comments).length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 3,\n                    children: [/*#__PURE__*/_jsxDEV(GrView, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 101,\n                      columnNumber: 49\n                    }, this), \":\", item.views]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 97,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 25\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this);\n        }) : null, currentPosts(data).map((item, i) => {\n          return /*#__PURE__*/_jsxDEV(StyledListItem, {\n            onClick: () => handleClick(item),\n            children: /*#__PURE__*/_jsxDEV(Row, {\n              children: [/*#__PURE__*/_jsxDEV(Col, {\n                sm: 7,\n                children: [/*#__PURE__*/_jsxDEV(Row, {\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: [item.title, \" \", item.keys.length ? /*#__PURE__*/_jsxDEV(MdInsertPhoto, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 115,\n                      columnNumber: 73\n                    }, this) : null]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Row, {\n                  style: colStyle,\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"\\uC791\\uC131\\uC2DC\\uAC04:\", item.createdAt.substr(0, 10) + \" \" + parseTime(item.createdAt.substr(11, 12))]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 118,\n                    columnNumber: 37\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(Col, {\n                style: colStyle,\n                sm: 5,\n                children: /*#__PURE__*/_jsxDEV(Row, {\n                  className: \"justify-content-start\",\n                  children: [/*#__PURE__*/_jsxDEV(Col, {\n                    xs: 5,\n                    children: [/*#__PURE__*/_jsxDEV(AiOutlineUser, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 123,\n                      columnNumber: 49\n                    }, this), \":\", item.username]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 3,\n                    children: [/*#__PURE__*/_jsxDEV(BiCommentDetail, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 124,\n                      columnNumber: 49\n                    }, this), \":\", Object.keys(item.comments).length]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 124,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Col, {\n                    xs: 4,\n                    children: [/*#__PURE__*/_jsxDEV(GrView, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 125,\n                      columnNumber: 49\n                    }, this), \":\", item.views]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 125,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 33\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 25\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), simple ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(CustomPagination, {\n      postsPerPage: postsPerPage,\n      totalPosts: data.length,\n      paginate: setCurrentPage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 18\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MyTable, \"yfmGHSEVo6GY8x+bxya2VUAypQE=\", false, function () {\n  return [useHistory];\n});\n\n_c2 = MyTable;\nexport default MyTable;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"StyledListItem\");\n$RefreshReg$(_c2, \"MyTable\");","map":{"version":3,"sources":["/Users/jiyechoi/Desktop/KGSA_web/kgsa/frontend/src/components/MyTable.js"],"names":["React","useState","ListGroup","Col","Row","useHistory","CustomPagination","getToken","getUser","GrView","BiCommentDetail","BsCardList","AiOutlineUser","AiFillNotification","MdInsertPhoto","styled","StyledListItem","Item","prop","pinned","colStyle","fontSize","divStyle","maxWidth","listStlye","borderRadius","MyTable","simple","data","url","notices","token","user","currentPage","setCurrentPage","postsPerPage","selectedAll","setSelectedAll","endOfPage","startOfPage","currentPosts","slice","history","handleClick","item","push","pathname","_id","state","parseTime","time","substr","map","i","title","keys","length","createdAt","username","Object","comments","views"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {ListGroup, Col,Row} from 'react-bootstrap';\nimport {useHistory} from 'react-router-dom';\nimport CustomPagination from './CustomPagination';\nimport '../styles.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\nimport {getToken, getUser} from '../services/LoginHelper';\nimport {GrView} from 'react-icons/gr';\nimport {BiCommentDetail} from 'react-icons/bi';\nimport {BsCardList} from 'react-icons/bs';\nimport {AiOutlineUser,AiFillNotification} from 'react-icons/ai';\nimport {MdInsertPhoto} from 'react-icons/md';\n\nimport styled from 'styled-components';\n\n\nconst StyledListItem = styled(ListGroup.Item)`\n    background : ${prop=>prop.pinned? '#6a101021': null};\n    padding-left : 40px;\n    &:hover{\n        background: #cecece;\n    }\n`\n\nconst colStyle = {\n    fontSize:\"10pt\"\n}\n\nconst divStyle ={\n    maxWidth:\"100vh\"\n}\n\nconst listStlye ={\n    borderRadius:\"5px\"\n}\n\nconst MyTable = ({simple, data,url, notices}) => {\n    /**\n     * Props :\n        * simple : if it is true, no pagination needed\n        * data : posts \n        * notices : pinned posts\n        * url : for API calls to backend\n     */\n    const token = getToken();\n    const user = getUser();\n    \n    const [ currentPage, setCurrentPage] = useState(1);\n    const postsPerPage = 8;\n    const [selectedAll, setSelectedAll] = useState(false);\n\n    const endOfPage = currentPage * postsPerPage;\n    const startOfPage = endOfPage - postsPerPage;\n    const currentPosts = (data)=>{\n        if(simple) return data.slice(0,3);\n        return data.slice(startOfPage,endOfPage);\n    }\n\n    const history = useHistory();\n\n    const handleClick = (item)=>{ \n        history.push({\n            pathname: `/${url}/view/${item._id}`,\n            state: { data: item }\n        })\n    }\n\n    // const handleSelectAll= (e)=>{\n    //     setSelectedAll(!selectedAll);\n    // }\n    \n    const parseTime = (time)=>{\n        return time.substr(0,5)\n    }\n\n    return (\n        <>\n        <div>\n            <ListGroup>\n                {!simple&&\n                    <StyledListItem variant=\"secondary\">\n                        <BsCardList/>\n                    </StyledListItem>\n                }\n                {notices? notices.map((item,i)=>{\n                    return(\n                        <StyledListItem key={i} onClick={()=>handleClick(item)} pinned=\"true\">\n                        <Row>\n                            <Col sm={7}>\n                                <Row>\n                                    <h5><AiFillNotification/> {item.title} {item.keys.length? <MdInsertPhoto/> :null}</h5>\n                                </Row>\n                                <Row style={colStyle}>\n                                    <p>작성시간:{item.createdAt.substr(0,10) + \" \" + parseTime(item.createdAt.substr(11,12))}</p>\n                                </Row>\n                            </Col>\n                            <Col style={colStyle} sm={5}>\n                                <Row className=\"justify-content-start\">\n                                    <Col xs={6}><AiOutlineUser/>:{item.username}</Col>\n                                    <Col xs={3}><BiCommentDetail/>:{Object.keys(item.comments).length}</Col>\n                                    <Col xs={3}><GrView/>:{item.views}</Col>\n                                </Row>                               \n                            </Col>\n                        </Row>\n                        </StyledListItem>\n                    )\n                })\n                :null}\n                {currentPosts(data).map((item,i)=>{\n                    return(\n                        <StyledListItem key={i} onClick={()=>handleClick(item)}>\n                        <Row>\n                            <Col sm={7}>\n                                <Row>\n                                    <h5>{item.title} {item.keys.length? <MdInsertPhoto/> :null}</h5>\n                                </Row>\n                                <Row style={colStyle}>\n                                    <p>작성시간:{item.createdAt.substr(0,10) + \" \" + parseTime(item.createdAt.substr(11,12))}</p>\n                                </Row>\n                            </Col>\n                            <Col style={colStyle} sm={5}>\n                                <Row className=\"justify-content-start\">\n                                    <Col xs={5}><AiOutlineUser/>:{item.username}</Col>\n                                    <Col xs={3}><BiCommentDetail/>:{Object.keys(item.comments).length}</Col>\n                                    <Col xs={4}><GrView/>:{item.views}</Col>\n                                </Row>                               \n                            </Col>\n                        </Row>\n                        </StyledListItem>\n                    )\n                })}\n            </ListGroup>\n        </div>\n                { simple? (<></>):\n                (<CustomPagination postsPerPage={postsPerPage} totalPosts = {data.length} paginate={setCurrentPage}></CustomPagination>)}\n        </>        \n    )\n\n}\n\nexport default MyTable;"]},"metadata":{},"sourceType":"module"}