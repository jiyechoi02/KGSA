{"ast":null,"code":"var _jsxFileName = \"/Users/jiyechoi/Desktop/KGSA_web/kgsa/frontend/src/components/pages/Events.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport React, { useEffect, useReducer, useState } from 'react';\nimport { Form, Modal, Alert, ListGroup, Row, Col, Spinner } from 'react-bootstrap';\nimport { CustomContainer as Container } from '../CustomContainer';\nimport { getToken, getUser } from '../../services/LoginHelper';\nimport { useFetch } from '../../services/UseAPIs';\nimport MySpinner from '../MySpinner';\nimport { StyledButton as Button } from '../Styles';\nimport CustomPagination from '../CustomPagination';\nimport MyModal from '../MyModal';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport { initialData, reducer } from '../../services/AlertHelper';\nimport MyDiv from '../MyDiv';\nimport { BiMap, BiTime, BiCalendarEvent, BiCalendarHeart, BiCommentDots } from 'react-icons/bi';\nimport styled from 'styled-components';\nimport { url } from '../../services/config';\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../../styles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst localizer = momentLocalizer(moment);\nconst user = getUser();\nconst StyledListItem = styled(ListGroup.Item)`\n    &:hover{\n        background: #4d44444d;\n    }\n`;\n_c = StyledListItem;\nexport const MyCalendar = ({\n  events\n}) => {\n  _s();\n\n  /*\n      This is the calendar Component\n      if the user is an admin, the user is allowed to add/edit events on the calendar\n  */\n  const [{\n    success,\n    fail,\n    loading\n  }, dispatch] = useReducer(reducer, initialData);\n  const ls = events;\n  const [showEventModal, setShowEventModal] = useState(false);\n  const [selectedEvent, setSelectedEvent] = useState({}); // an event that a user selected.\n\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [selectedDate, setSelectedDate] = useState(\"\"); // a date that a user selected.\n\n  const [newEvent, setNewEvent] = useState({\n    title: \"\",\n    location: \"\",\n    resource: \"\",\n    start: new Date(),\n    end: new Date(),\n    time: \"\",\n    allday: true\n  }); // new event data from the add new event modal form.\n\n  const handleSelectedSlot = e => {\n    // handle when user selects a data slot\n    // the selected data will be shown on the modal form.\n    const start = String(e.start);\n    var a = [];\n    a = start.split(\" \");\n    setNewEvent({\n      start: new Date(a[1] + \" \" + a[2] + \" \" + a[3]),\n      end: new Date(a[1] + \" \" + a[2] + \" \" + a[3])\n    });\n    setSelectedDate(a[1] + \" \" + a[2] + \" \" + a[3]);\n    setShowAddModal(true);\n  };\n\n  const handleClose = () => {\n    /* handle to close Add Event Modal  */\n    setShowAddModal(false);\n    setSelectedDate(\"\");\n  };\n\n  const handleSubmit = e => {\n    /* handle to submit a new event */\n    e.preventDefault();\n    sendData();\n    handleClose();\n  };\n\n  const handleChange = e => {\n    /* handle a input data from Form */\n    setNewEvent({ ...newEvent,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleSelectedEvent = e => {\n    /* handle to show selected Event \n        setSelectedEvent with the event\n    */\n    setSelectedEvent(e);\n    setShowEventModal(true);\n  };\n\n  const closeMyModal = () => {\n    // handle to close My modal \n    dispatch({\n      type: 'loading',\n      value: false\n    });\n    dispatch({\n      type: 'success',\n      value: false\n    });\n    window.location.reload();\n  };\n\n  const sendData = () => {\n    dispatch({\n      type: 'loading',\n      value: true\n    });\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var requestOptions = {\n      method: 'POST',\n      headers: myHeaders,\n      body: JSON.stringify(newEvent),\n      redirect: 'follow'\n    };\n    fetch(url + \"events\", requestOptions).then(res => res.json()).then(res => {\n      if (res.success) {\n        dispatch({\n          type: 'success',\n          value: true\n        });\n        dispatch({\n          type: 'loading',\n          value: false\n        });\n      }\n    }).then(() => setSelectedDate(\"\")).catch(error => dispatch({\n      type: 'fail',\n      value: true\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Calendar, {\n      localizer: localizer,\n      events: ls,\n      views: ['month'],\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      selectable: getToken() && user.admin ? true : false,\n      onSelectSlot: handleSelectedSlot,\n      onSelectEvent: handleSelectedEvent,\n      style: calendarStyle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAddModal,\n      onHide: handleClose,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        style: modalStyle,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Add Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiCalendarEvent, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 41\n              }, this), \" Start date \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              defaultValue: selectedDate,\n              name: \"date\",\n              disabled: true,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiTime, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 41\n              }, this), \" Time \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"time\",\n              name: \"time\",\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 153,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiCalendarHeart, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 156,\n                columnNumber: 41\n              }, this), \" Title\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"title\",\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiMap, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 160,\n                columnNumber: 41\n              }, this), \" Location\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"location\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 161,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiCommentDots, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 41\n              }, this), \" Note\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              name: \"resource\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleClose,\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            children: \"Save Event\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }, this), showEventModal ? /*#__PURE__*/_jsxDEV(EventViewModal, {\n      show: showEventModal,\n      onHide: () => setShowEventModal(false),\n      setSelectedEvent: setSelectedEvent,\n      selectedEvent: selectedEvent,\n      setShowModal: setShowEventModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 17\n    }, this) : null, loading ? /*#__PURE__*/_jsxDEV(MyModal, {\n      show: loading,\n      closeButton: false,\n      children: [/*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"secondary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(MyModal, {\n      show: success,\n      handleOnClick: closeMyModal,\n      variant: \"success\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Saved a new event successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 88\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MyCalendar, \"0wvB1otb97294MHfWVOPlKYr0TM=\");\n\n_c2 = MyCalendar;\nexport const UpcomingEvent = ({\n  simple,\n  events\n}) => {\n  _s2();\n\n  /*\n      This is the upcoming Event component.\n      fetch datas by API calls and sort them and diplay events within 5 days\n      Admins are also allowed to edit/delete an even here.\n  */\n  // const [{success, fail, loading}, dispatch] = useReducer(reducer, initialData);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedData, setSelectedData] = useState({\n    title: \"\",\n    location: \"\",\n    resource: \"\",\n    start: new Date(),\n    end: new Date(),\n    allday: true\n  });\n  const [currentPage, setCurrentPage] = useState(1);\n  const postsPerPage = 4;\n  const endOfPage = currentPage * postsPerPage;\n  const startOfPage = endOfPage - postsPerPage;\n  var upcomingEvents = null;\n\n  const filterEvent = events => {\n    /* Sort Events happening within 5 days from current date. */\n    let event = new Date(events.start);\n    let date = new Date();\n\n    if (event >= date && event <= date.setDate(date.getDate() + 5)) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const currentEvents = events => {\n    /* get Event data for current page */\n    if (simple) return events.slice(0, 2);\n    return events.slice(startOfPage, endOfPage);\n  };\n\n  const handleRowClick = item => {\n    /*  */\n    setShowModal(true);\n    setSelectedData(item);\n  };\n\n  const handleClose = () => {\n    setShowModal(false);\n  };\n\n  const parseDateString = date => {\n    const months = ['JAN', 'FEB', 'MAR', 'APR', 'MAY', 'JUN', 'JUL', 'AUG', 'SEP', 'OCT', 'NOV', 'DEC'];\n    const parses = date.split(\"-\"); // console.log(parseInt(parses[1]))\n\n    return [parses[0], months[parseInt(parses[1]) - 1], parses[2]];\n  }; // if(response) data = response.data.filter(filterEvent);\n  // if(isLoading) dispatch({type:'loading', value : isLoading})\n  // if(error) return <div>{error}</div>\n\n\n  if (events) {\n    upcomingEvents = events.filter(filterEvent);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: upcomingEvents ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [currentEvents(upcomingEvents).length ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(ListGroup, {\n          children: [!simple && /*#__PURE__*/_jsxDEV(ListGroup.Item, {\n            style: {\n              backgroundColor: \"#6A1010\",\n              color: \"white\"\n            },\n            children: /*#__PURE__*/_jsxDEV(BiCalendarEvent, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 33\n          }, this), currentEvents(upcomingEvents).map(item => {\n            var [eventdate, time] = item.start.split(\"T\");\n            var [year, month, date] = parseDateString(eventdate);\n            return /*#__PURE__*/_jsxDEV(StyledListItem, {\n              onClick: () => handleRowClick(item),\n              children: /*#__PURE__*/_jsxDEV(Row, {\n                className: \"align-items-center justify-content-between\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  sm: 1,\n                  style: {\n                    color: \"#4d4444\",\n                    fontWeight: \"bolder\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                    children: date\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: 2,\n                  style: {\n                    fontSize: \"12pt\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: month + \"/\" + year\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: 4,\n                  style: {\n                    fontSize: \"15pt\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                    children: item.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 57\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 53\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  sm: 3,\n                  style: {\n                    fontSize: \"12pt\"\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      marginBottom: \"2px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(BiMap, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 288,\n                      columnNumber: 89\n                    }, this), \" \", item.location, \" \"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 57\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    style: {\n                      marginBottom: \"2px\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(BiTime, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 290,\n                      columnNumber: 89\n                    }, this), \" \", item.time]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 290,\n                    columnNumber: 57\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 53\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 49\n              }, this)\n            }, item._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 45\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 25\n        }, this), simple ? /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false) : /*#__PURE__*/_jsxDEV(CustomPagination, {\n          postsPerPage: postsPerPage,\n          totalPosts: upcomingEvents.length,\n          paginate: setCurrentPage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"secondary\",\n        style: {\n          textAlign: 'center',\n          padding: \"20px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No upcoming events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 89\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 18\n      }, this), showModal ? /*#__PURE__*/_jsxDEV(EventViewModal, {\n        show: showModal,\n        onHide: handleClose,\n        setSelectedEvent: setSelectedData,\n        selectedEvent: selectedData,\n        setShowModal: setShowModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 29\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(MySpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n\n_s2(UpcomingEvent, \"y7eydZE9RzpaWqZaIuzGFFGYH20=\");\n\n_c3 = UpcomingEvent;\nexport const EventViewModal = ({\n  setSelectedEvent,\n  selectedEvent,\n  show,\n  setShowModal,\n  onHide\n}) => {\n  _s3();\n\n  const [showDeletedAlert, setShowDeletedAlert] = useState(false);\n  const [editDisable, setEditDisable] = useState(true);\n  const [showUpdatedAlert, setShowUpdatedAlert] = useState(false);\n\n  const handleDelete = () => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n    var requestOptions = {\n      method: 'DELETE',\n      headers: myHeaders,\n      body: JSON.stringify(selectedEvent),\n      redirect: 'follow'\n    };\n    fetch(url + \"events\", requestOptions).then(res => res.json()).then(res => {\n      if (res.success) {\n        setShowDeletedAlert(true);\n      }\n    }).catch(error => console.log('err', error));\n  };\n\n  const handleUpdate = () => {\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\"); // console.log(selectedEvent);\n\n    var requestOptions = {\n      method: 'PUT',\n      headers: myHeaders,\n      body: JSON.stringify(selectedEvent),\n      redirect: 'follow'\n    };\n    fetch(url + \"events\", requestOptions).then(res => res.json()).then(res => {\n      if (res.success) {\n        setShowUpdatedAlert(true);\n      }\n    }).catch(error => console.log('err', error));\n  };\n\n  const closeAlert = () => {\n    setShowDeletedAlert(false);\n    setShowUpdatedAlert(false);\n    setShowModal(false);\n    window.location.reload();\n  };\n\n  const handleChange = e => {\n    setSelectedEvent({ ...selectedEvent,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: onHide,\n      className: \"eventModal\",\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        className: \"eventModal-header\",\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          style: {\n            fontWeight: 'bold'\n          },\n          children: \"View Event\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: handleUpdate,\n          style: {\n            wordBreak: 'break-all'\n          },\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiCalendarHeart, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 37\n              }, this), \" Title \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"title\",\n              defaultValue: selectedEvent.title,\n              disabled: editDisable,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiCalendarEvent, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 37\n              }, this), \" Date \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"date\",\n              disabled: true,\n              defaultValue: String(selectedEvent.start).split(\"T\")[0],\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiTime, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 37\n              }, this), \" Time\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"time\",\n              name: \"time\",\n              disabled: editDisable,\n              defaultValue: selectedEvent.time,\n              onChange: handleChange,\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiMap, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 37\n              }, this), \" Location\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              name: \"location\",\n              disabled: editDisable,\n              defaultValue: selectedEvent.location,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 394,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 392,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: [/*#__PURE__*/_jsxDEV(BiCommentDots, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 397,\n                columnNumber: 37\n              }, this), \" Note\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 397,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              as: \"textarea\",\n              name: \"resource\",\n              disabled: editDisable,\n              defaultValue: selectedEvent.resource,\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: [getToken() && user.admin ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: editDisable ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setEditDisable(false),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 407,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: handleDelete,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 408,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(Button, {\n            onClick: handleUpdate,\n            children: \"Save Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 25\n          }, this)\n        }, void 0, false) : null, /*#__PURE__*/_jsxDEV(Button, {\n          onClick: () => setShowModal(false),\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 414,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MyModal, {\n      show: showDeletedAlert,\n      handleOnClick: closeAlert,\n      variant: \"success\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Deleted the event successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(MyModal, {\n      show: showUpdatedAlert,\n      handleOnClick: closeAlert,\n      variant: \"success\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Updated the event successfully!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s3(EventViewModal, \"gLKlPTClnGJgi8VXx6u7WTlE1lU=\");\n\n_c4 = EventViewModal;\n\nconst Events = ({\n  simple\n}) => {\n  _s4();\n\n  var events = [new Object({\n    title: \"\",\n    start: null,\n    end: null,\n    time: \"\",\n    allDay: false,\n    resource: null\n  })];\n  var myHeaders = new Headers();\n  myHeaders.append(\"Content-Type\", \"application/json\");\n  var requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow'\n  };\n  const {\n    response,\n    isLoading,\n    error\n  } = useFetch(url + \"events\", requestOptions);\n  useEffect(() => {\n    if (response) {\n      events = response.data;\n    }\n  }, [response]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: !isLoading ? /*#__PURE__*/_jsxDEV(MyDiv, {\n      children: [/*#__PURE__*/_jsxDEV(Container, {\n        containerSize: \"myContainer--small\",\n        children: \"\\uC8FC\\uC694 \\uC77C\\uC815\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          margin: '20px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Upcoming Events\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 69\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(UpcomingEvent, {\n        simple: simple ? simple : false,\n        events: events\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 21\n      }, this), simple ? null : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'center',\n            margin: '20px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"\\uD589\\uC0AC \\uB2EC\\uB825\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 463,\n            columnNumber: 73\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(MyCalendar, {\n          events: events\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 457,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(MySpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 15\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 455,\n    columnNumber: 9\n  }, this);\n};\n\n_s4(Events, \"KSolhiGL7koCe6MMu/uBRhGsnr0=\", false, function () {\n  return [useFetch];\n});\n\n_c5 = Events;\nconst modalStyle = {\n  backgroundColor: '#6A1010',\n  color: 'white'\n};\nconst calendarStyle = {\n  minHeight: '100vh'\n};\nexport default Events;\n\nvar _c, _c2, _c3, _c4, _c5;\n\n$RefreshReg$(_c, \"StyledListItem\");\n$RefreshReg$(_c2, \"MyCalendar\");\n$RefreshReg$(_c3, \"UpcomingEvent\");\n$RefreshReg$(_c4, \"EventViewModal\");\n$RefreshReg$(_c5, \"Events\");","map":{"version":3,"sources":["/Users/jiyechoi/Desktop/KGSA_web/kgsa/frontend/src/components/pages/Events.js"],"names":["React","useEffect","useReducer","useState","Form","Modal","Alert","ListGroup","Row","Col","Spinner","CustomContainer","Container","getToken","getUser","useFetch","MySpinner","StyledButton","Button","CustomPagination","MyModal","Calendar","momentLocalizer","moment","initialData","reducer","MyDiv","BiMap","BiTime","BiCalendarEvent","BiCalendarHeart","BiCommentDots","styled","url","localizer","user","StyledListItem","Item","MyCalendar","events","success","fail","loading","dispatch","ls","showEventModal","setShowEventModal","selectedEvent","setSelectedEvent","showAddModal","setShowAddModal","selectedDate","setSelectedDate","newEvent","setNewEvent","title","location","resource","start","Date","end","time","allday","handleSelectedSlot","e","String","a","split","handleClose","handleSubmit","preventDefault","sendData","handleChange","target","name","value","handleSelectedEvent","closeMyModal","type","window","reload","myHeaders","Headers","append","requestOptions","method","headers","body","JSON","stringify","redirect","fetch","then","res","json","catch","error","admin","calendarStyle","modalStyle","UpcomingEvent","simple","showModal","setShowModal","selectedData","setSelectedData","currentPage","setCurrentPage","postsPerPage","endOfPage","startOfPage","upcomingEvents","filterEvent","event","date","setDate","getDate","currentEvents","slice","handleRowClick","item","parseDateString","months","parses","parseInt","filter","length","backgroundColor","color","map","eventdate","year","month","fontWeight","fontSize","marginBottom","_id","textAlign","padding","EventViewModal","show","onHide","showDeletedAlert","setShowDeletedAlert","editDisable","setEditDisable","showUpdatedAlert","setShowUpdatedAlert","handleDelete","console","log","handleUpdate","closeAlert","wordBreak","Events","Object","allDay","response","isLoading","data","margin","minHeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useReducer, useState } from 'react';\nimport {Form, Modal,Alert,ListGroup,Row,Col, Spinner} from 'react-bootstrap';\nimport { CustomContainer as Container } from '../CustomContainer' ;\nimport { getToken,getUser } from '../../services/LoginHelper';\nimport { useFetch } from '../../services/UseAPIs';\nimport MySpinner from '../MySpinner';\nimport {StyledButton as Button} from '../Styles';\nimport CustomPagination from '../CustomPagination';\nimport MyModal from '../MyModal';\nimport {Calendar, momentLocalizer} from 'react-big-calendar';\nimport moment from 'moment';\nimport { initialData, reducer } from '../../services/AlertHelper';\nimport MyDiv from '../MyDiv';\nimport {BiMap,BiTime,BiCalendarEvent,BiCalendarHeart,BiCommentDots} from 'react-icons/bi';\nimport styled from 'styled-components';\nimport {url} from '../../services/config';\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport '../../styles.css'\n\nconst localizer = momentLocalizer(moment);\nconst user = getUser();\n\nconst StyledListItem = styled(ListGroup.Item)`\n    &:hover{\n        background: #4d44444d;\n    }\n`\nexport const MyCalendar = ({events}) =>{\n    /*\n        This is the calendar Component\n        if the user is an admin, the user is allowed to add/edit events on the calendar\n    */\n\n    const [{success, fail, loading}, dispatch] = useReducer(reducer, initialData);\n    const ls = events; \n    const [showEventModal, setShowEventModal] = useState(false);\n    const [selectedEvent, setSelectedEvent] = useState({}); // an event that a user selected.\n    const [ showAddModal, setShowAddModal] = useState(false);\n    const [ selectedDate, setSelectedDate]= useState(\"\");  // a date that a user selected.\n    const [ newEvent, setNewEvent ] = useState({\n        title:\"\",\n        location : \"\",\n        resource: \"\",\n        start : new Date(),\n        end : new Date(),\n        time: \"\",\n        allday : true,\n    }); // new event data from the add new event modal form.\n\n    const handleSelectedSlot = (e)=>{\n        // handle when user selects a data slot\n        // the selected data will be shown on the modal form.\n\n        const start = String(e.start);\n        var a = [];\n        a = start.split(\" \");\n\n        setNewEvent({\n            start :new Date(a[1] + \" \" + a[2] + \" \" + a[3]),\n            end : new Date(a[1] + \" \" + a[2] + \" \" + a[3]),\n        })\n\n        setSelectedDate(a[1] + \" \" + a[2] + \" \" + a[3]);\n        setShowAddModal(true);\n    }\n\n    const handleClose = () =>{\n        /* handle to close Add Event Modal  */\n        setShowAddModal(false)\n        setSelectedDate(\"\");\n    }    \n    const handleSubmit = (e)=>{      \n        /* handle to submit a new event */  \n        e.preventDefault();\n        sendData();\n        handleClose();\n    }\n\n    const handleChange = (e)=>{\n        /* handle a input data from Form */\n        setNewEvent({\n            ...newEvent, [e.target.name] : e.target.value\n        })\n    } \n\n    const handleSelectedEvent = (e)=>{\n        /* handle to show selected Event \n            setSelectedEvent with the event\n        */\n        setSelectedEvent(e);\n        setShowEventModal(true);\n    }\n\n    const closeMyModal = ()=>{\n        // handle to close My modal \n        dispatch({type:'loading', value:false})\n        dispatch({type:'success', value:false})\n        window.location.reload();\n    }\n\n    const sendData = () =>{\n\n        dispatch({type:'loading' , value : true})\n\n        var myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/json\");\n        var requestOptions = {\n          method: 'POST',\n          headers: myHeaders,\n          body : JSON.stringify(newEvent),\n          redirect: 'follow'\n        };\n\n        fetch(url+\"events\",requestOptions)\n        .then(res=>res.json())\n        .then(res=>{\n            if(res.success){\n                dispatch({type:'success' , value : true})\n                dispatch({type:'loading' , value : false})\n\n            }\n        })\n        .then(()=> setSelectedDate(\"\"))\n        .catch(error => dispatch({type:'fail' , value : true}))\n\n    }\n    return (\n        <div>\n            <Calendar\n                localizer={localizer}\n                events = {ls}\n                views = {['month']}\n                startAccessor=\"start\"\n                endAccessor=\"end\"\n                selectable={getToken()&&user.admin? true: false}\n                onSelectSlot={handleSelectedSlot}\n                onSelectEvent={handleSelectedEvent}\n                style={calendarStyle}\n              />       \n            <Modal show={showAddModal} onHide={handleClose}>\n                <Modal.Header closeButton style={modalStyle}>\n                <Modal.Title>Add Event</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form onSubmit={handleSubmit}>\n                        <Form.Group>\n                            <Form.Label><BiCalendarEvent/> Start date </Form.Label>\n                            <Form.Control type=\"text\" defaultValue={selectedDate} name=\"date\" disabled onChange={handleChange}></Form.Control>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label><BiTime/> Time </Form.Label>\n                            <Form.Control type=\"time\" name=\"time\" onChange={handleChange} required/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label><BiCalendarHeart/> Title</Form.Label>\n                            <Form.Control type=\"text\" name=\"title\" onChange={handleChange} required/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label><BiMap/> Location</Form.Label>\n                            <Form.Control type=\"text\" name=\"location\"  onChange={handleChange}/>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label><BiCommentDots/> Note</Form.Label>\n                            <Form.Control as=\"textarea\" name=\"resource\" onChange={handleChange}/>\n                        </Form.Group>\n                        <Button onClick={handleClose}>\n                            Cancel\n                        </Button>                \n                        <Button type=\"submit\">\n                            Save Event\n                        </Button>\n                    </Form>\n                </Modal.Body>\n            </Modal>\n            {showEventModal? \n                <EventViewModal \n                show={showEventModal} \n                onHide={()=>setShowEventModal(false)}\n                setSelectedEvent={setSelectedEvent}\n                selectedEvent={selectedEvent} \n                setShowModal={setShowEventModal}/>\n            : null}\n            {loading?\n                <MyModal show={loading} closeButton={false}>\n                    <Spinner animation=\"border\" variant=\"secondary\" />\n                    <span>Loading...</span>\n                </MyModal>:\n                <MyModal show={success} handleOnClick={closeMyModal} variant='success'><p>Saved a new event successfully!</p></MyModal>}\n        </div>\n    );\n}\n\n\nexport const UpcomingEvent = ({simple,events})=>{\n    /*\n        This is the upcoming Event component.\n        fetch datas by API calls and sort them and diplay events within 5 days\n        Admins are also allowed to edit/delete an even here.\n    */\n    \n    // const [{success, fail, loading}, dispatch] = useReducer(reducer, initialData);\n    const [showModal, setShowModal] = useState(false);\n    const [selectedData, setSelectedData] = useState({\n        title: \"\",\n        location : \"\",\n        resource : \"\",\n        start : new Date(),\n        end : new Date(),\n        allday : true,\n    });\n\n    const [currentPage, setCurrentPage] = useState(1);\n    const postsPerPage = 4;\n    const endOfPage = currentPage * postsPerPage;\n    const startOfPage = endOfPage - postsPerPage;\n\n    var upcomingEvents = null;\n\n    const filterEvent = (events) =>{\n        /* Sort Events happening within 5 days from current date. */\n        let event = new Date(events.start);\n        let date = new Date();\n\n        if(event >= date && event <= date.setDate(date.getDate()+5)){\n            return true;\n        }\n        return false;\n    }\n\n    const currentEvents = (events)=>{\n        /* get Event data for current page */ \n        if(simple) return events.slice(0,2);\n        return events.slice(startOfPage,endOfPage);\n    }\n\n    const handleRowClick = (item)=>{\n        /*  */\n        setShowModal(true);\n        setSelectedData(item)\n    }\n    const handleClose = ()=>{\n        setShowModal(false);\n    }\n\n    const parseDateString = (date)=>{\n        const months = ['JAN','FEB','MAR','APR','MAY','JUN','JUL','AUG','SEP','OCT','NOV','DEC'];\n        const parses = date.split(\"-\");\n        // console.log(parseInt(parses[1]))\n        return [parses[0], months[parseInt(parses[1])-1], parses[2]]\n    }\n\n    // if(response) data = response.data.filter(filterEvent);\n    // if(isLoading) dispatch({type:'loading', value : isLoading})\n    // if(error) return <div>{error}</div>\n    if(events){\n        upcomingEvents = events.filter(filterEvent);\n    }\n\n    return ( \n        <>\n        { upcomingEvents? (\n            <div>\n            {currentEvents(upcomingEvents).length? \n                (<>\n                        <ListGroup>\n                            {!simple && \n                                <ListGroup.Item style={{backgroundColor:\"#6A1010\", color:\"white\"}}>\n                                    <BiCalendarEvent/>\n                                </ListGroup.Item>\n                            }\n                            {currentEvents(upcomingEvents).map(item=> {\n                                    var [eventdate, time] = item.start.split(\"T\");\n                                    var [year, month, date] = parseDateString(eventdate);\n                                    return (\n                                            <StyledListItem key={item._id} onClick={()=>handleRowClick(item)}> \n                                                <Row className=\"align-items-center justify-content-between\">\n                                                    <Col sm={1} style={{color:\"#4d4444\", fontWeight:\"bolder\"}}>\n                                                        <h1>{date}</h1>\n                                                    </Col>\n                                                    <Col sm={2} style={{fontSize:\"12pt\"}}>\n                                                        <h5>{month+\"/\"+year}</h5>\n                                                    </Col>\n                                                    <Col sm={4} style={{fontSize:\"15pt\"}}>\n                                                        <h4>{item.title}</h4>\n                                                    </Col>\n                                                    <Col sm={3} style={{fontSize:\"12pt\"}}>\n                                                        <p style={{marginBottom:\"2px\"}}><BiMap/> {item.location} </p>\n                                                        {/* <p style={{marginBottom:\"2px\"}}>date:{month +\"/\" + date + \"/\" + year}</p> */}\n                                                        <p style={{marginBottom:\"2px\"}}><BiTime/> {item.time}</p>\n                                                    </Col>\n                                                </Row>\n                                            </StyledListItem>\n                            )})}        \n                        </ListGroup>\n                        \n                        {simple? (<></>): (\n                        <CustomPagination postsPerPage={postsPerPage} totalPosts={upcomingEvents.length} paginate={setCurrentPage}/>\n                    )}\n                </>)\n                :<Alert variant='secondary' style={{textAlign:'center',padding:\"20px\"}}><p>No upcoming events</p></Alert>} \n                {showModal? <EventViewModal show={showModal} onHide={handleClose} setSelectedEvent={setSelectedData} selectedEvent={selectedData} setShowModal={setShowModal}/> : null}\n            </div>)\n        :(<MySpinner/>)}\n        </>\n    )\n}\n\nexport const EventViewModal = ({setSelectedEvent, selectedEvent, show, setShowModal, onHide})=>{\n    \n    const [showDeletedAlert, setShowDeletedAlert] = useState(false);\n    const [editDisable, setEditDisable] = useState(true);\n    const [showUpdatedAlert, setShowUpdatedAlert] = useState(false);\n\n    const handleDelete = ()=>{\n        var myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/json\");\n        \n        var requestOptions = {\n          method: 'DELETE',\n          headers: myHeaders,\n          body : JSON.stringify(selectedEvent),\n          redirect: 'follow'\n        };\n\n        fetch(url+\"events\",requestOptions)\n        .then(res=>res.json())\n        .then(res=>{\n            if(res.success){\n                setShowDeletedAlert(true);\n            }\n        })\n        .catch(error => console.log('err',error))\n    }\n\n    const handleUpdate = ()=>{\n        var myHeaders = new Headers();\n        myHeaders.append(\"Content-Type\", \"application/json\");\n        // console.log(selectedEvent);\n\n        var requestOptions = {\n          method: 'PUT',\n          headers: myHeaders,\n          body : JSON.stringify(selectedEvent),\n          redirect: 'follow'\n        };\n\n        fetch(url+\"events\",requestOptions)\n        .then(res=>res.json())\n        .then(res=>{\n            if(res.success){\n                setShowUpdatedAlert(true);\n            }\n        })\n        .catch(error => console.log('err',error))\n    }\n\n    const closeAlert =()=>{\n        setShowDeletedAlert(false);\n        setShowUpdatedAlert(false);\n        setShowModal(false);\n        window.location.reload();\n\n    }\n\n    const handleChange = (e)=>{\n        setSelectedEvent({\n            ...selectedEvent, [e.target.name] : e.target.value\n        })\n    }\n\n    return (\n        <>\n        <Modal show={show} onHide={onHide} className='eventModal'>\n            <Modal.Header closeButton className='eventModal-header'>\n                <Modal.Title style={{fontWeight:'bold'}}>View Event</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form onSubmit={handleUpdate} style={{wordBreak: 'break-all'}}>\n                    <Form.Group>\n                        <Form.Label><BiCalendarHeart/> Title </Form.Label>\n                        <Form.Control type=\"text\" name=\"title\" defaultValue={selectedEvent.title} disabled={editDisable} onChange={handleChange}/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label><BiCalendarEvent/> Date </Form.Label>\n                        <Form.Control type=\"text\" name=\"date\" disabled defaultValue={String(selectedEvent.start).split(\"T\")[0]} required/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label><BiTime/> Time</Form.Label>\n                        <Form.Control type=\"time\" name=\"time\"  disabled={editDisable} defaultValue={selectedEvent.time} onChange={handleChange} required/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label><BiMap/> Location</Form.Label>\n                        <Form.Control type=\"text\" name=\"location\"  disabled={editDisable} defaultValue={selectedEvent.location} onChange={handleChange}/>\n                    </Form.Group>\n                    <Form.Group>\n                        <Form.Label><BiCommentDots/> Note</Form.Label>\n                        <Form.Control as=\"textarea\" name=\"resource\"  disabled={editDisable} defaultValue={selectedEvent.resource} onChange={handleChange}/>\n                    </Form.Group>\n                </Form>\n            </Modal.Body>\n            <Modal.Footer>\n                {getToken()&&user.admin? \n                <>\n                    { editDisable?\n                        <>\n                        <Button onClick={()=> setEditDisable(false)}>Edit</Button>\n                        <Button onClick={handleDelete}>Delete</Button>\n                        </> : \n                        <Button onClick={handleUpdate}>Save Update</Button>     \n                    }\n                </>\n                :null}\n                <Button onClick={()=>setShowModal(false)}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n        <MyModal show={showDeletedAlert} handleOnClick={closeAlert} variant='success'>\n            <p>Deleted the event successfully!</p>\n        </MyModal>\n        <MyModal show={showUpdatedAlert} handleOnClick={closeAlert} variant='success'>\n            <p>Updated the event successfully!</p>\n        </MyModal>\n        </>\n    )\n}\n\nconst Events = ({simple}) => {\n\n    var events = [new Object({\n        title: \"\",\n        start : null,\n        end : null,\n        time: \"\",\n        allDay: false,\n        resource: null\n    })]\n    var myHeaders = new Headers();\n    myHeaders.append(\"Content-Type\", \"application/json\");\n\n    var requestOptions = {\n        method: 'GET',\n        headers: myHeaders,\n        redirect: 'follow'\n        };\n    \n    const {response, isLoading, error } = useFetch(url+\"events\",requestOptions)\n    \n    useEffect(()=>{\n        if(response){\n            events = response.data;\n        }    \n    },[response])\n\n    return (\n        <Container>\n            {!isLoading?\n                <MyDiv>\n                    <Container containerSize=\"myContainer--small\">주요 일정</Container>\n                    <div style={{textAlign:'center',margin:'20px'}}><h1>Upcoming Events</h1></div>\n                    <UpcomingEvent simple={simple? simple : false} events={events}/>\n                    {simple? null :\n                    <>\n                        <div style={{textAlign:'center',margin:'20px'}}><h1>행사 달력</h1></div>\n                        <MyCalendar events={events}/>\n                    </>}\n                </MyDiv>\n            : <MySpinner/> }\n        </Container>\n    )\n}\n\nconst modalStyle = {\n    backgroundColor: '#6A1010',\n    color: 'white'\n}\n\nconst calendarStyle={\n    minHeight: '100vh'\n}\n\nexport default Events"]},"metadata":{},"sourceType":"module"}